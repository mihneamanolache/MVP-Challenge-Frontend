{"ast":null,"code":"import axios from \"axios\";\nimport { BASE_API_URL } from \"./constants\";\nexport const fetchProjects = async () => {\n  try {\n    let response = await axios.get(BASE_API_URL + '/projects');\n    return response.data;\n  } catch (err) {\n    throw err;\n  }\n};\nexport const fetchGateways = async () => {\n  try {\n    let response = await axios.get(BASE_API_URL + '/gateways');\n    return response.data;\n  } catch (err) {\n    throw err;\n  }\n};\nexport const fetchReport = async data => {\n  try {\n    let response = await axios.post(BASE_API_URL + '/report', data);\n    return response.data;\n  } catch (err) {\n    throw err;\n  }\n};\nexport const fetchGrouped = async data => {\n  let response = [];\n\n  try {\n    var projects = await axios.get(BASE_API_URL + '/projects');\n    response = projects.data.data;\n  } catch (err) {\n    throw err;\n  }\n\n  try {\n    var gateways = await axios.get(BASE_API_URL + '/gateways');\n  } catch (err) {\n    throw err;\n  }\n\n  try {\n    var reports = await axios.post(BASE_API_URL + '/report', data);\n  } catch (err) {\n    throw err;\n  }\n\n  response.forEach(project => {\n    let transactions = [];\n    let totalAmount = 0;\n    reports.data.data.forEach(report => {\n      if (report.projectId === project.projectId) {\n        transactions.push(report);\n        totalAmount += report.amount;\n      }\n    });\n    project.transactions = transactions;\n    project.totalAmount = totalAmount.toFixed(2);\n  });\n  return response;\n};","map":{"version":3,"names":["axios","BASE_API_URL","fetchProjects","response","get","data","err","fetchGateways","fetchReport","post","fetchGrouped","projects","gateways","reports","forEach","project","transactions","totalAmount","report","projectId","push","amount","toFixed"],"sources":["/Users/laptop/Desktop/MVP/client/src/utils/api.js"],"sourcesContent":["import axios from \"axios\";\nimport { BASE_API_URL } from \"./constants\";\n\nexport const fetchProjects = async () => {\n    try {\n        let response = await axios.get(BASE_API_URL + '/projects')\n        return response.data\n    } catch ( err ) {\n        throw err\n    }\n\n}\n\nexport const fetchGateways = async () => {\n    try {\n        let response = await axios.get(BASE_API_URL + '/gateways')\n        return response.data\n    } catch ( err ) {\n        throw err\n    }\n\n}\n\nexport const fetchReport = async (data) => {\n    try {\n        let response = await axios.post(BASE_API_URL + '/report', data)\n        return response.data\n    } catch ( err ) {\n        throw err\n    }\n\n}\n\nexport const fetchGrouped = async (data) => {\n    let response = []\n    try {\n        var projects = await axios.get(BASE_API_URL + '/projects')\n        response = projects.data.data\n    } catch ( err ) {\n        throw err\n    }\n\n    try {\n        var gateways = await axios.get(BASE_API_URL + '/gateways')\n    } catch ( err ) {\n        throw err\n    }\n\n    try {\n        var reports = await axios.post(BASE_API_URL + '/report', data)\n    } catch ( err ) {\n        throw err\n    }\n\n    response.forEach(project => {\n        let transactions = []\n        let totalAmount = 0\n        reports.data.data.forEach(report => {\n            if ( report.projectId === project.projectId ) {\n                transactions.push(report)\n                totalAmount += report.amount\n            }\n        });\n        project.transactions = transactions\n        project.totalAmount = totalAmount.toFixed(2)\n    });\n\n    return response\n}\n\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,QAA6B,aAA7B;AAEA,OAAO,MAAMC,aAAa,GAAG,YAAY;EACrC,IAAI;IACA,IAAIC,QAAQ,GAAG,MAAMH,KAAK,CAACI,GAAN,CAAUH,YAAY,GAAG,WAAzB,CAArB;IACA,OAAOE,QAAQ,CAACE,IAAhB;EACH,CAHD,CAGE,OAAQC,GAAR,EAAc;IACZ,MAAMA,GAAN;EACH;AAEJ,CARM;AAUP,OAAO,MAAMC,aAAa,GAAG,YAAY;EACrC,IAAI;IACA,IAAIJ,QAAQ,GAAG,MAAMH,KAAK,CAACI,GAAN,CAAUH,YAAY,GAAG,WAAzB,CAArB;IACA,OAAOE,QAAQ,CAACE,IAAhB;EACH,CAHD,CAGE,OAAQC,GAAR,EAAc;IACZ,MAAMA,GAAN;EACH;AAEJ,CARM;AAUP,OAAO,MAAME,WAAW,GAAG,MAAOH,IAAP,IAAgB;EACvC,IAAI;IACA,IAAIF,QAAQ,GAAG,MAAMH,KAAK,CAACS,IAAN,CAAWR,YAAY,GAAG,SAA1B,EAAqCI,IAArC,CAArB;IACA,OAAOF,QAAQ,CAACE,IAAhB;EACH,CAHD,CAGE,OAAQC,GAAR,EAAc;IACZ,MAAMA,GAAN;EACH;AAEJ,CARM;AAUP,OAAO,MAAMI,YAAY,GAAG,MAAOL,IAAP,IAAgB;EACxC,IAAIF,QAAQ,GAAG,EAAf;;EACA,IAAI;IACA,IAAIQ,QAAQ,GAAG,MAAMX,KAAK,CAACI,GAAN,CAAUH,YAAY,GAAG,WAAzB,CAArB;IACAE,QAAQ,GAAGQ,QAAQ,CAACN,IAAT,CAAcA,IAAzB;EACH,CAHD,CAGE,OAAQC,GAAR,EAAc;IACZ,MAAMA,GAAN;EACH;;EAED,IAAI;IACA,IAAIM,QAAQ,GAAG,MAAMZ,KAAK,CAACI,GAAN,CAAUH,YAAY,GAAG,WAAzB,CAArB;EACH,CAFD,CAEE,OAAQK,GAAR,EAAc;IACZ,MAAMA,GAAN;EACH;;EAED,IAAI;IACA,IAAIO,OAAO,GAAG,MAAMb,KAAK,CAACS,IAAN,CAAWR,YAAY,GAAG,SAA1B,EAAqCI,IAArC,CAApB;EACH,CAFD,CAEE,OAAQC,GAAR,EAAc;IACZ,MAAMA,GAAN;EACH;;EAEDH,QAAQ,CAACW,OAAT,CAAiBC,OAAO,IAAI;IACxB,IAAIC,YAAY,GAAG,EAAnB;IACA,IAAIC,WAAW,GAAG,CAAlB;IACAJ,OAAO,CAACR,IAAR,CAAaA,IAAb,CAAkBS,OAAlB,CAA0BI,MAAM,IAAI;MAChC,IAAKA,MAAM,CAACC,SAAP,KAAqBJ,OAAO,CAACI,SAAlC,EAA8C;QAC1CH,YAAY,CAACI,IAAb,CAAkBF,MAAlB;QACAD,WAAW,IAAIC,MAAM,CAACG,MAAtB;MACH;IACJ,CALD;IAMAN,OAAO,CAACC,YAAR,GAAuBA,YAAvB;IACAD,OAAO,CAACE,WAAR,GAAsBA,WAAW,CAACK,OAAZ,CAAoB,CAApB,CAAtB;EACH,CAXD;EAaA,OAAOnB,QAAP;AACH,CAnCM"},"metadata":{},"sourceType":"module"}